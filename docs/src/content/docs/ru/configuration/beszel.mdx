---
title: Руководство по установке Beszel
description: Инструкция по установке и настройке Beszel
---
import { Code } from '@astrojs/starlight/components';
import { Steps } from '@astrojs/starlight/components';
import { LinkButton } from '@astrojs/starlight/components';

Beszel — это легковесная платформа для мониторинга серверов, включающая статистику Docker, исторические данные и функции оповещения.

Она имеет дружелюбный веб-интерфейс, простую конфигурацию и готова к использованию «из коробки». Поддерживает автоматическое резервное копирование, многопользовательский режим, аутентификацию OAuth и доступ к API.

## Установка Beszel Hub (основной компонент)

:::danger[Важно]
Требуется наличие установленной панели Remnawave
:::

:::note[Заметка]
Не забудьте создать запись DNS для beszel.example.com
:::

<Steps>

1. Создаем директорию для Beszel и редактируем docker-compose.yml

    ```bash
    mkdir /opt/beszel && cd /opt/beszel && nano docker-compose.yml
    ```

2. Добавляем в наш docker-compose.yml Beszel Hub

    ```yaml
    services:
      beszel:
        image: henrygd/beszel
        container_name: beszel
        restart: always
        ports:
          - '127.0.0.1:8090:8090'
        volumes:
          - ./beszel_data:/beszel_data
        logging:
          driver: 'json-file'
          options:
            max-size: '30m'
            max-file: '5'
    ```

3. Запускаем Beszel Hub

    ```bash
    cd /opt/beszel && docker compose up -d && docker compose logs -f
    ```

4. Редактируем наш nginx конфиг

    ```bash
    cd /opt/remnawave && nano nginx.conf
    ```

5. Добавляем в наш nginx конфиг Beszel

    ```nginx
    upstream beszel {
        server 127.0.0.1:8090;
    }

    server {
        server_name beszel.example.com;
        listen 443 ssl;
        http2 on;

        ssl_certificate "/etc/nginx/ssl/example.com/fullchain.pem";
        ssl_certificate_key "/etc/nginx/ssl/example.com/privkey.pem";
        ssl_trusted_certificate "/etc/nginx/ssl/example.com/fullchain.pem";

        add_header Set-Cookie $set_cookie_header;

        location / {
            if ($authorized = 0) {
                return 444;
            }
            proxy_http_version 1.1;
            proxy_pass http://beszel;
            proxy_set_header Host $host;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection $connection_upgrade;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header X-Forwarded-Host $host;
            proxy_set_header X-Forwarded-Port $server_port;
            proxy_send_timeout 60s;
            proxy_read_timeout 60s;
        }
    }
    ```

6. Перезапускаем наш nginx

    ```bash
    cd /opt/remnawave && docker compose down remnawave-nginx && docker compose up -d remnawave-nginx && docker compose logs -f remnawave-nginx
    ```

</Steps>


### Создание аккаунта

<Steps>

1. Переходим по адресу Beszel, не забывая подставить ваши куки
    ```
    https://beszel.example.com/?LDMBcZNB=jdJYPxqq
    ```

2. Нас встречает страница авторизации Beszel

    ![Admin creation](https://raw.githubusercontent.com/eGamesAPI/remnawave-reverse-proxy/refs/heads/main/docs/src/assets/ru/beszel/admin_creation_beszel.png)

3. Вводим нашу почту и пароль

4. Попадаем в панель управления Beszel

    ![Add System](https://raw.githubusercontent.com/eGamesAPI/remnawave-reverse-proxy/refs/heads/main/docs/src/assets/ru/beszel/add_system_beszel.png)

</Steps>

## Добавление агента в панель управления Beszel

<Steps>

1. Нажимаем на `Add System`

2. Добавляем в систему нашего агента

    ![Add System Host](https://raw.githubusercontent.com/eGamesAPI/remnawave-reverse-proxy/refs/heads/main/docs/src/assets/ru/beszel/add_system_host_beszel.png)

3. Выбираем способ подключения Binary

4. Заполняем имя агента и вводим IP-адрес нашей ноды Remnawave (порт можем оставить по умолчанию)

5. Нажимаем на `Copy Linux command` и получаем команду для установки агента.

6. Переходим на наш сервер Remnawave ноды и выполняем команду

    ```bash
    curl -sL https://get.beszel.dev -o /tmp/install-agent.sh && chmod +x /tmp/install-agent.sh && /tmp/install-agent.sh -p 45876 -k "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIPW2NUPqCB4pq8oOgEFB9Luqe6oWjEy4bkQV3qcXo3qt" -t "8c9e7262-ced0-4162-bc49-4c985162c22f" -url "https://beszel.example.com"
    ```

7. Видим, что наш агент успешно установлен

    ![Install Agent](https://raw.githubusercontent.com/eGamesAPI/remnawave-reverse-proxy/refs/heads/main/docs/src/assets/ru/beszel/install_agent_beszel.png)

</Steps>

## Настройка брандмауэра (UFW) на сервере ноды Remnawave

<Steps>

1. Выполните команду для открытия порта 45876 (TCP) для IP-адреса панели Remnawave:

    ```bash
    ufw allow from 100.88.38.121 to any port 45876 proto tcp
    ```

2. Перезагрузите брандмауэр:

    ```bash
    ufw reload
    ```

3. Подождите пару минут, пока агент не подключится к панели Beszel

    ![Host System](https://raw.githubusercontent.com/eGamesAPI/remnawave-reverse-proxy/refs/heads/main/docs/src/assets/ru/beszel/host_system_beszel.png)

</Steps>